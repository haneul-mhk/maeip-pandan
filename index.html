<!DOCTYPE html>
<html lang="ja">
<head>


    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³„ì‚°ê¸°</title>
    <style>
       /* è²©å£²ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é¸æŠã‚¹ã‚¿ã‚¤ãƒ« */
    select#platform {
    width: 100%;
    padding: 8px;
    margin-top: 10px;
    border: 1px solid #ffc0cb;
    border-radius: 4px;
    background-color: #fffaf0;
    color: #db7093;
}

                     /* è¨ˆç®—çµæœã®è¡¨ç¤ºã‚¨ãƒªã‚¢ */
                     #resultText {
                    margin-top: 10px;  /* ãƒœã‚¿ãƒ³ã¨ã®é–“éš” */
                    padding: 10px;
                    background-color: #fffaf0;
                    border: 1px solid #ffc0cb;
                    border-radius: 4px;
                    color: #db7093;
                    font-family: monospace;
                    white-space: pre-wrap;
                    text-align: left;
                }

            .input-table {
                              width: 100%;
                              display: grid;
                              grid-template-columns: 1fr 1fr; /* 2åˆ— */
                              gap: 10px;
                          }

                          .input-table div {
                                display: flex;
                                flex-direction: column;
                                justify-content: center;
                            }


    ã€€@media (max-width: 768px) {
    table {
        display: block;
        width: 100%;
        overflow-x: auto;
        white-space: nowrap;
    }
    th, td {
        display: inline-block;
        width: 45%; /* 2åˆ—ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚’ç¶­æŒ */
    }
}


        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #ffe4e1;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: #fff0f5;
            border-radius: 8px;
            border: 1px solid #ffc0cb;
        }
        h1 {
    text-align: center;
    color: #db7093;
    font-size: 1.3em; /* ã“ã“ã‚’è¿½åŠ  */
}

        table {
            width: 100%;
            margin-top: 20px;
            border-collapse: collapse;
        }
        table, th, td {
            border: 1px solid #ffc0cb;
        }
        th, td {
    font-size: 12px; /* æ–‡å­—ã‚’å°ã•ãã™ã‚‹ */
    padding: 4px; /* ä½™ç™½ã‚‚å°‘ã—èª¿æ•´ */
    line-height: 1.2;
}

        .buttons {
            text-align: center;
            margin-top: 20px;
        }
        .buttons button {
            padding: 10px 20px;
            margin: 5px;
            border: none;
            background-color: #db7093;
            color: white;
            border-radius: 4px;
            cursor: pointer;
        }
        .buttons button:hover {
            background-color: #ff69b4;
        }
        input[type="number"], select {
            width: 100%;
            padding: 8px;
            margin-top: 10px;
            border: 1px solid #ffc0cb;
            border-radius: 4px;
            background-color: #fffaf0;
            color: #db7093;
        }
        .highlight {
            font-weight: bold;
            color: #b22222;
        }

    </style>
</head>
<body>
    <div class="container">
        <h1></h1>
        <form id="profitCalculator">
            <label for="sellingPrice">è²©å£²ä¾¡æ ¼ï¼ˆå††ï¼‰:</label>
        <input type="number" id="sellingPrice" placeholder="0" required>
        <br><br>

        <!-- æ‰‹æ•°æ–™ç‡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’å‰Šé™¤ã—ã€è²©å£²ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®é¸æŠã®ã¿æ®‹ã™ -->
        <label for="platform">è²©å£²ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ :</label>
        <select id="platform">
            <option value="mercari">ãƒ¡ãƒ«ã‚«ãƒª</option>
            <option value="rakuma">ãƒ©ã‚¯ãƒ</option>
            <option value="yahoo">ãƒ¤ãƒ•ã‚ªã‚¯</option>
            <option value="paypay">PayPayãƒ•ãƒªãƒ</option>
            <option value="SNKRDUNK">ã‚¹ãƒ‹ãƒ€ãƒ³</option>
            <option value="BUYMA">ãƒã‚¤ãƒ</option>
        </select>
        <br><br>


            <label for="shippingCost">ãƒ¡ãƒ«ã‚«ãƒªé€æ–™ï¼ˆå††ï¼‰:</label>
            <select id="shippingCost" required>
                <option value="160">ğŸ“®Â¥160 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒã‚¹ãƒˆminiï¼ˆè¦å°‚ç”¨å°ç­’ï¼‰</option>
                <option value="215">ğŸ“®Â¥215 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒã‚¹ãƒˆï¼ˆè¦å°‚ç”¨ã‚·ãƒ¼ãƒ«/è¦å°‚ç”¨ç®±ï¼‰</option>
                <option value="455">ğŸ£Â¥455 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒ—ãƒ©ã‚¹ï¼ˆè¦å°‚ç”¨ç®±ï¼‰</option>
                <option value="210">ğŸˆâ€â¬›Â¥210 ãƒã‚³ãƒã‚¹ï¼ˆãƒã‚¹ãƒˆå—å–ã‚µã‚¤ã‚ºï¼‰</option>
                <option value="450">ğŸˆâ€â¬›Â¥450 å®…æ€¥ä¾¿ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ</option>
                <option value="750">ğŸ“¦Â¥750 60ã‚µã‚¤ã‚º</option>
                <option value="None">æ‰‹å…¥åŠ›ã™ã‚‹</option>
            </select>

            <input type="number" id="shippingCostHand" placeholder="0" style="display: none;" required>

            <br><br>

            <label>ä»•å…¥ã‚Œå€¤:</label>
            <div>
                <input type="radio" id="costPriceJPY" name="costPriceCurrency" value="JPY" checked>
                <label for="costPriceJPY">å††</label>
                <input type="radio" id="costPriceKRW" name="costPriceCurrency" value="KRW">
                <label for="costPriceKRW">ã‚¦ã‚©ãƒ³</label>
            </div>

            <input type="number" id="costPrice" placeholder="0" required>

            <br><br>

            <label>ä»•å…¥ã‚Œæ™‚é€æ–™:</label>
            <div>
                <input type="radio" id="shippingCostJPY" name="shippingCostCurrency" value="JPY" checked>
                <label for="shippingCostJPY">å††</label>
                <input type="radio" id="shippingCostKRW" name="shippingCostCurrency" value="KRW">
                <label for="shippingCostKRW">ã‚¦ã‚©ãƒ³</label>
                 <input type="number" id="purchaseShippingCost" placeholder="0" required>
                 <br><br>
            </div>
            <label>ç‚ºæ›¿ãƒ¬ãƒ¼ãƒˆï¼ˆ1ã‚¦ã‚©ãƒ³ã‚ãŸã‚Šã®å††æ›ç®—ï¼‰:</label>
            <input type="number" id="exchangeRate" placeholder="0.1" required>

            <br><br>
            <label>é–¢ç¨ç‡ï¼ˆ%ï¼‰:</label>
            <div>
                <input type="radio" id="customsDutyTrue" name="customsDuty" value="True" checked>
                <label for="customsDutyTrue">ã‚ã‚Š</label>
                <input type="radio" id="customsDutyFalse" name="customsDuty" value="False">
                <label for="customsDutyFalse">ãªã—</label>
                <input type="number" id="customsRate" placeholder="15" required>
            </div>

          <div class="buttons">
    <button type="button" onclick="calculateProfit()">è¨ˆç®—ã™ã‚‹</button>
    <button type="reset">ãƒªã‚»ãƒƒãƒˆ</button>
</div>

<!-- ã“ã“ã«è¨ˆç®—çµæœãŒè¡¨ç¤ºã•ã‚Œã¾ã™ -->
<textarea id="resultText" readonly rows="7"></textarea>
<button onclick="copyToClipboard()">ã‚³ãƒ”ãƒ¼</button>

<textarea id="copyText" readonly style="background-color: #fffaf0; border: 1px solid #ffc0cb; color: #db7093;">
ğŸ”» ä»•å…¥ã‚Œåˆ¤æ–­ ğŸ”»

â‘ ç°¡å˜ãªå•†å“ã‚¿ã‚¤ãƒˆãƒ«
ã€       ã€‘

â‘¡

â‘¢ä»•å…¥ã‚Œã‚‹ç¨®é¡ã”ã¨ã®å€‹æ•°
(ã‚«ãƒ©ãƒ¼ã¨ã‚µã‚¤ã‚ºã”ã¨ã®å€‹æ•°)

â‘£è€ƒå¯Ÿï¼ˆâ‘¢ã¨è€ƒãˆãŸå…·ä½“çš„ãªæ ¹æ‹ ï¼‰

â‘¤-1æ¤œç´¢å…¨ä½“ç”»é¢ã®URLã‚’æ·»ä»˜

â‘¤-2è²©å£²ãƒšãƒ¼ã‚¸URLã‚’æ·»ä»˜

â‘¥ä»•å…¥ã‚Œå…ˆãƒšãƒ¼ã‚¸ã®URL
</textarea>
<button onclick="copyToClipboard('copyText')">ã‚³ãƒ”ãƒ¼</button>

        </form>

        <table>
            <tr>
            <th>é …ç›®</th><th>å€¤</th>
            <th>é …ç›®</th><th>å€¤</th>
            <th>é …ç›®</th><th>å€¤</th>
            </tr>
            <tr><td>ãƒ¡ãƒ«ã‚«ãƒªè²©å£²ä¾¡æ ¼</td><td id="displaySellingPrice">-</td>
            <td>ãƒ¡ãƒ«ã‚«ãƒªæ‰‹æ•°æ–™</td><td id="displayCommission">-</td>
            <td>ãƒ¡ãƒ«ã‚«ãƒªé€æ–™</td><td id="displayShippingCost">-</td></tr>
            <tr><td>ä»•å…¥ã‚Œå€¤ (å††)</td><td id="displayCostPriceJPY">-</td>
            <td>ä»•å…¥ã‚Œå€¤ (ã‚¦ã‚©ãƒ³)</td><td id="displayCostPriceKRW">-</td>
            <td>ä»•å…¥ã‚Œæ™‚é€æ–™</td><td id="displayPurchaseShippingCost">-</td></tr>
            <tr><td>é–¢ç¨</td><td id="displayCustomsDuty">-</td>
            <td>åˆ©ç›Š (å††)</td><td id="displayProfit" class="highlight">-</td>
            <td>åˆ©ç›Šç‡ (%)</td><td id="displayProfitRate">-</td></tr>
        </table>

    </div>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const shippingCostSelect = document.getElementById('shippingCost');
            const shippingCostHandInput = document.getElementById('shippingCostHand');

            // åˆæœŸçŠ¶æ…‹ã§ã¯éè¡¨ç¤º
            shippingCostHandInput.style.display = 'none';

            // é€æ–™é¸æŠæ™‚ã®å‹•ä½œ
            shippingCostSelect.addEventListener('change', function () {
                if (shippingCostSelect.value === "None") {
                    shippingCostHandInput.style.display = 'block'; // è¡¨ç¤º
                    shippingCostHandInput.required = true; // å¿…é ˆã«è¨­å®š
                } else {
                    shippingCostHandInput.style.display = 'none'; // éè¡¨ç¤º
                    shippingCostHandInput.required = false; // å¿…é ˆã‚’è§£é™¤
                    shippingCostHandInput.value = ""; // å…¥åŠ›å€¤ã‚’ãƒªã‚»ãƒƒãƒˆ
                }
            });
        });


  async function calculateProfit() {
    const exchangeRate = parseFloat(document.getElementById('exchangeRate').value) || 0;
    const sellingPrice = parseFloat(document.getElementById('sellingPrice').value) || 0;
    const selectedPlatform = document.getElementById('platform').value;
    const commissionRate = (platformFees[selectedPlatform] || 0) / 100;
    const commission = sellingPrice * commissionRate;

    let shippingCost = parseFloat(document.getElementById('shippingCost').value) || 0;
    const shippingCostHand = parseFloat(document.getElementById('shippingCostHand').value) || 0;

    if (document.getElementById('shippingCost').value === "None") {
        shippingCost = shippingCostHand;
    }

    const costPrice = parseFloat(document.getElementById('costPrice').value) || 0;
    const purchaseShippingCost = parseFloat(document.getElementById('purchaseShippingCost').value) || 0;
    const costPriceCurrency = document.querySelector('input[name="costPriceCurrency"]:checked').value;
    const costPriceInJPY = costPriceCurrency === "JPY" ? costPrice : Math.round(costPrice * exchangeRate);
    const purchaseShippingCostCurrency = document.querySelector('input[name="shippingCostCurrency"]:checked').value;
    const purchaseShippingCostInJPY = purchaseShippingCostCurrency === "JPY" ? purchaseShippingCost : Math.round(purchaseShippingCost * exchangeRate);

    const customsDutyRate = document.getElementById('customsDutyTrue').checked ? parseFloat(document.getElementById('customsRate').value) / 100 : 0;
    const customsDutyPrice = isNaN(customsDutyRate) ? 0 : costPriceInJPY * customsDutyRate;

    const profit = (sellingPrice - commission - shippingCost - costPriceInJPY - purchaseShippingCostInJPY - customsDutyPrice);
    const profitRate = sellingPrice > 0 ? (profit / sellingPrice) * 100 : 0;

    document.getElementById('displaySellingPrice').textContent = sellingPrice.toFixed(0);
    document.getElementById('displayCommission').textContent = commission.toFixed(0);
    document.getElementById('displayShippingCost').textContent = shippingCost.toFixed(0);
    document.getElementById('displayCustomsDuty').textContent = isNaN(customsDutyPrice) ? "0" : customsDutyPrice.toFixed(0);
    document.getElementById('displayCostPriceJPY').textContent = costPriceCurrency === "JPY" ? costPrice.toFixed(0) : (costPrice * exchangeRate).toFixed(0);
    document.getElementById('displayCostPriceKRW').textContent = costPriceCurrency === "KRW" ? costPrice.toFixed(0) : (costPrice / exchangeRate).toFixed(0);
    document.getElementById('displayPurchaseShippingCost').textContent = purchaseShippingCostInJPY.toFixed(0);
    document.getElementById('displayProfit').textContent = profit.toFixed(0);
    document.getElementById('displayProfitRate').textContent = profitRate.toFixed(2);

    // æ”¹è¡Œã‚’ä¿æŒã—ã¦è¨ˆç®—çµæœã‚’è¡¨ç¤º
    const resultText =
`è²©å£²ä¾¡æ ¼ï¼š${sellingPrice.toFixed(0)}å††
è²©å£²æ‰‹æ•°æ–™ï¼š${commission.toFixed(0)}å††
é€æ–™ï¼š${shippingCost.toFixed(0)}å††
ä»•å…¥ã‚Œå€¤ï¼š${costPriceInJPY.toFixed(0)}å††
ä»•å…¥ã‚Œæ™‚é€æ–™ï¼š${purchaseShippingCostInJPY.toFixed(0)}å††
é–¢ç¨ï¼š${customsDutyPrice.toFixed(0)}å††
ï¼åˆ©ç›Šé¡ï¼š${profit.toFixed(0)}å††`;

    document.getElementById('resultText').value = resultText;
}

// ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ã‚³ãƒ”ãƒ¼ã™ã‚‹é–¢æ•°
function copyToClipboard() {
    const resultText = document.getElementById('resultText');
    resultText.select();
    resultText.setSelectionRange(0, 99999); // ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œ

    navigator.clipboard.writeText(resultText.value).then(() => {
        alert("è¨ˆç®—çµæœã‚’ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    }).catch(err => {
        console.error("ã‚³ãƒ”ãƒ¼ã«å¤±æ•—ã—ã¾ã—ãŸ", err);
    });
}



// ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã®æ‰‹æ•°æ–™ç‡ï¼ˆ%ï¼‰
const platformFees = {
    mercari: 10,      // ãƒ¡ãƒ«ã‚«ãƒª: 10%
    rakuma: 6,        // ãƒ©ã‚¯ãƒ: 6%
    yahoo: 8.5,       // ãƒ¤ãƒ•ã‚ªã‚¯: 8.5%
    paypay: 5,        // PayPayãƒ•ãƒªãƒ: 5%
    SNKRDUNK: 5.5,    // ã‚¹ãƒ‹ãƒ€ãƒ³: 5.5%
    BUYMA: 7.9        // ãƒã‚¤ãƒ: 7.9%
};

// ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã”ã¨ã®é€æ–™ãƒªã‚¹ãƒˆ
const platformShipping = {
    mercari: [
        { value: 160, text: "ğŸ“®Â¥160 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒã‚¹ãƒˆminiï¼ˆè¦å°‚ç”¨å°ç­’ï¼‰" },
        { value: 215, text: "ğŸ“®Â¥215 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒã‚¹ãƒˆï¼ˆè¦å°‚ç”¨ã‚·ãƒ¼ãƒ«/è¦å°‚ç”¨ç®±ï¼‰" },
        { value: 455, text: "ğŸ£Â¥455 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆãƒ—ãƒ©ã‚¹ï¼ˆè¦å°‚ç”¨ç®±ï¼‰" },
        { value: 210, text: "ğŸˆâ€â¬›Â¥210 ãƒã‚³ãƒã‚¹ï¼ˆãƒã‚¹ãƒˆå—å–ã‚µã‚¤ã‚ºï¼‰" },
        { value: 450, text: "ğŸˆâ€â¬›Â¥450 å®…æ€¥ä¾¿ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ],
    rakuma: [
        { value: 179, text: "ğŸ“®Â¥179 ã‹ã‚“ãŸã‚“ãƒ©ã‚¯ãƒãƒ‘ãƒƒã‚¯ï¼ˆãƒã‚³ãƒã‚¹ï¼‰" },
        { value: 380, text: "ğŸˆâ€â¬›Â¥380 ã‹ã‚“ãŸã‚“ãƒ©ã‚¯ãƒãƒ‘ãƒƒã‚¯ï¼ˆå®…æ€¥ä¾¿ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆï¼‰" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ],
    yahoo: [
        { value: 210, text: "ğŸ“¦Â¥210 ãƒ¤ãƒ•ãƒã‚³! ãƒã‚³ãƒã‚¹" },
        { value: 380, text: "ğŸ“¦Â¥380 ãƒ¤ãƒ•ãƒã‚³! å®…æ€¥ä¾¿ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ],
    paypay: [
        { value: 170, text: "ğŸ“¦Â¥170 ã‚†ã†ãƒ‘ã‚±ãƒƒãƒˆï¼ˆãƒã‚¹ãƒˆæŠ•å‡½ï¼‰" },
        { value: 380, text: "ğŸ“¦Â¥380 å®…æ€¥ä¾¿ã‚³ãƒ³ãƒ‘ã‚¯ãƒˆ" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ],
    SNKRDUNK: [
        { value: 800, text: "ğŸ“¦Â¥800 é€šå¸¸é…é€" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ],
    BUYMA: [
        { value: 1000, text: "ğŸ“¦Â¥1000 å›½éš›é…é€" },
        { value: "None", text: "æ‰‹å…¥åŠ›ã™ã‚‹" }
    ]
};

// ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒå¤‰æ›´ã•ã‚ŒãŸã¨ãã®å‡¦ç†
document.getElementById("platform").addEventListener("change", function () {
    const selectedPlatform = this.value;
    updateShippingOptions(selectedPlatform);
});



// é€æ–™é¸æŠè‚¢ã‚’æ›´æ–°ã™ã‚‹é–¢æ•°
function updateShippingOptions(platform) {
    const shippingSelect = document.getElementById("shippingCost");
    shippingSelect.innerHTML = ""; // ä¸€æ—¦ã‚¯ãƒªã‚¢

    if (platformShipping[platform]) {
        platformShipping[platform].forEach(option => {
            const opt = document.createElement("option");
            opt.value = option.value;
            opt.textContent = option.text;
            shippingSelect.appendChild(opt);
        });
    }
}

    function copyToClipboard(elementId) {
        var copyText = document.getElementById(elementId);
        copyText.select();
        document.execCommand("copy");
        alert("ã‚³ãƒ”ãƒ¼ã—ã¾ã—ãŸï¼");
    }


    </script>
</body>
</html>
